You are Codex. Build a lightweight Windows desktop app that lets theatre designers preview how colored lighting interacts with a textured surface (e.g., wallpaper, brick) using an ultra-light real-time preview and an on-demand high-quality still render.

IMPORTANT PROJECT SETUP INSTRUCTION
- Save THIS ENTIRE PROMPT into a file named PROJECT_PROMPT.txt.
- Place PROJECT_PROMPT.txt in the root of the project folder, next to the README.md.
- Create a single project folder on the user’s Desktop (e.g., Desktop/LightingTexturePreviewer/).
- Place ALL files related to this project inside that Desktop folder (source code, assets, README, prompt file, etc.).
- Do not scatter files elsewhere on the system.

TARGET / DELIVERABLE
- Target platform: Windows 10/11.
- Deliverable must be a double-clickable Windows app (EXE) that launches without requiring the user to run commands.
- Use Electron + Three.js (WebGL2) as the chosen stack.
- Prioritize performance on low-end consumer PCs (integrated graphics) while maintaining good visuals in the high-quality render.

CORE CONCEPT
- The app shows ONE vertical wall plane in a blank, dark/neutral space.
- The user loads a base-color texture and an optional normal map, then configures a theatre-style spotlight (color, intensity, direction, softness) to see how it plays on the surface.
- The user can move the camera with ORBIT controls (click-drag orbit, scroll zoom, right-drag pan).

REAL-TIME PREVIEW VS HIGH-QUALITY RENDER (VERY IMPORTANT)
- Real-time preview can be extremely simple and not fancy:
  - The preview may be a fast approximation that is essentially “a colored opaque circle of light over a wall” plus basic texture display.
  - The purpose of preview is only to allow quick interaction with parameters without heavy rendering cost.
- High-quality render is where nearly all rendering power should go:
  - Pressing “High Quality Render” produces a significantly more realistic still image.
  - While high-quality rendering is running, the camera must be LOCKED (no movement) until completion (or cancel).
  - Show a progress indicator during render; allow cancel if feasible.
  - Export the final high-quality render to PNG.

USER-FRIENDLINESS / AESTHETICS (NON-NEGOTIABLE)
- The entire application must be extremely user-friendly and look good:
  - clean, modern UI layout with consistent spacing and typography
  - sensible defaults so the app looks good immediately on launch
  - clear labeling and tooltips for key controls
  - helpful, non-technical error messages
  - avoid clutter; group controls into clear titled sections
  - the UI should feel polished, not like a rough developer tool

UI LAYOUT
- Left-side control panel.
- Controls must have BOTH sliders AND numeric input boxes where applicable.
- Color inputs must accept HEX AND provide a color picker.
- Add a “High Quality Render” button and Export controls in the panel.
- Put a small “cog” icon in the bottom-right corner. Clicking opens a menu with:
  - Reload Code
  - Reload Textures
  - Reload Model
  - Reload Light

TEXTURE LOADING (FILE PICKER WORKFLOW)
- The primary workflow is file-picker based:
  - Provide a “Load Base Texture” button to select PNG/JPG/JPEG.
  - Provide a “Load Normal Map (Optional)” button to select EXR, PNG, or JPG/JPEG.
  - Provide a “Clear Normal Map” button.
- The app must treat base texture as sRGB and normal maps as linear (especially EXR).
- Normal mapping is the ONLY surface depth technique required (no parallax/height mapping).

SCENE / BACKGROUND
- Blank dark/neutral environment.
- Add an Ambient Fill slider (0–10%), default 2%, to avoid pure black shadows in high-quality renders.

LIGHTING (V1 MUST-HAVES)
- Implement ONE spotlight fixture (spotlight only) that affects the wall.
- Spotlight controls must include:
  - Color: HEX + picker
  - Kelvin temperature option: include a Kelvin slider and convert Kelvin -> RGB (the user can use either method; both must exist)
  - Intensity: display and control intensity as illuminance at the surface in lux (lx). Document clearly how the UI maps this to Three.js settings.
  - Direction: azimuth + elevation controls (sliders + numeric inputs). Also show a simple on-screen indicator if easy.
  - Softness:
    - Real-time preview softness may be simplified.
    - High-quality render must support BOTH:
      (1) edge softness (penumbra via inner/outer cone or equivalent),
      (2) shadow softness improvement relative to preview (use the best feasible approach within Three.js/WebGL2 constraints).
  - Distance / falloff: provide a reasonable default and document it; keep controls minimal unless needed.

THEATRE FEATURES: GELS
- Implement gels as multiplying the light color.
- Include a small starter library of gel presets with Rosco/Lee-style NAMES (approximate is acceptable) plus the resulting gel color (HEX).
- The user can select a gel preset OR set a custom gel via HEX.
- Gel selection must be clearly visible in UI and applied to the spotlight color.

THEATRE FEATURES: GOBOS
- Gobos must be supported in V1:
  - Allow loading a gobo as a black-and-white image mask.
  - Project it through the spotlight onto the wall (like a real gobo projection).
  - Provide controls: scale, rotation, focus (sharp/soft), and invert.
  - Keep the math stable and the UX simple.

RELOAD MENU BEHAVIOR (DETERMINISTIC)
- Reload Textures:
  - Re-read the currently selected base texture and normal map files from disk (same file paths) and re-apply them without restarting the app.
- Reload Model:
  - Reset the wall plane mesh and material to defaults, then re-apply currently loaded textures.
- Reload Light:
  - Reset all light parameters (including gel and gobo settings) to sensible defaults.
- Reload Code:
  - Restart the app automatically and restore the last known state (textures, light settings, camera position, gel, gobo).
  - This is a development convenience to avoid manual relaunch while iterating.
  - This feature is intended for development and may be removed in a future “product” build, but MUST exist now.

HIGH-QUALITY RENDER DETAILS
- High-quality render must produce a PNG export with a resolution dropdown containing EXACTLY:
  - 1280×720
  - 1920×1080
  - 2560×1440
- High-quality render should be meaningfully better than preview by increasing quality settings such as:
  - higher shadow map resolution
  - better filtering
  - higher internal render resolution (if needed)
  - better spotlight penumbra and gobo sharpness/focus handling
  - any feasible accumulation technique in a single-threaded JS context (optional)
- The exact implementation can be practical, but the result must visibly improve quality.

PROJECT STRUCTURE / ENGINEERING
- Provide a clean project layout.
- Separate UI code from rendering code.
- Handle missing normal map and missing gobo gracefully.
- Do not crash on bad file inputs; show user-friendly errors.
- Include a README.md with:
  - what the app does
  - how to install dependencies
  - how to run in dev mode
  - how to build a Windows EXE (double-clickable)
  - controls and limitations
- Include default sample assets in /assets (base texture, normal map, and a sample gobo) so the app looks good immediately on launch.

MVP BUILD ORDER (FOLLOW THIS)
1) Electron app shell + Three.js viewport + left control panel.
2) Wall plane with base texture file picker.
3) Orbit controls.
4) Spotlight with lux/intensity mapping + HEX color.
5) Ultra-light preview mode (fast approximation) that updates instantly.
6) High-quality render pipeline with camera lock + export to PNG.
7) Normal map support (EXR + PNG/JPG) in high-quality render.
8) Gel system (multiply color) + Rosco/Lee-style named presets + custom gel HEX.
9) Gobo projection (BW mask) + controls (scale, rotation, focus, invert).
10) Bottom-right cog menu with reload actions implemented exactly as specified.

DELIVERABLE
- Provide all source code in the single Desktop project folder.
- Provide run instructions and build instructions.
- Ensure the app launches as an EXE and demonstrates:
  - default texture + default normal map loaded
  - live parameter changes in preview
  - high-quality render export at the three specified resolutions
  - gel selection affecting the light
  - gobo projection working with the specified controls
  - cog menu reload functions working exactly as specified
 ask any questions if unsure about anything
